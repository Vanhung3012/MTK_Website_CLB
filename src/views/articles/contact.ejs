<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>CÂU LẠC BỘ SINH VIÊN</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <style>
    .myDIV {
      display: none;
    }

    .hide {
      display: block;
    }

    .Cate:hover,
    .Cate2:hover {
      background: #2b94a5;
    }

    .stext:hover {
      border: 1px solid #332d2d;
    }

    .mystyle {
      display: none;
    }

    .IMGNew:hover {
      transform: scale(1.1);
      transition: all 1.3s ease;
    }

    .title1:hover {
      color: white;
    }

    .box-user:hover {
      border-bottom: 1px solid #e9ecef;
      border-top: 1px solid #e9ecef;
    }

    /* Thêm CSS để làm hình tròn cho avatar */
    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      overflow: hidden;
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>

<!-- <script>
  function myFunction() {
     var element = document.getElementById("myDIV");
     element.classList.toggle("mystyle");
  }
  </script> -->
<body style="width: 100%;overflow-x: hidden;">
  <!-- Hiển thị thông tin người dùng và nút logout khi đã đăng nhập -->
  <div style="display: flex; background-color: white; height: 100px; justify-content: space-around;">
    <h1 style="color: black;">CÂU LẠC BỘ SINH VIÊN</h1>
    <div class="box" style="height: 100%; width: 600px; display: flex;justify-content: center; align-items: center;">
      <form class="sbox" action="/articles/user/search" method="get" style="width: 100%;height: 100%; display: flex;justify-content: center;align-items: center;">
        <input class="stext" type="text" name="q" placeholder="Tìm kiếm bài viết..." style="width: 90%; height: 30%;border-radius: 20px; outline: none;padding-left: 10px;border: 1px solid #e9ecef;font-weight: 300;font-size: bold;">
        <a class="sbutton" type="submit" href="javascript:void(0);" style="margin-left: 5px; color: #e9ecef;">
          <i class="fa fa-search"></i>
        </a>
      </form>
    </div>
    <!-- Sửa đổi phần avatar thành hình tròn nhỏ -->
    <div class="avatar" style="margin-right: 15px; cursor: pointer;">
      <img src="https://res.cloudinary.com/tnhtruong/image/upload/v1716581156/MauThietKe/yngzvpzw3ugnb8z5xjqg.jpg" alt="User Image" onclick="myFunction()">
    </div>

    <div class="myDIV" style=" position: absolute; top: 80px; right: 10px;z-index: 100; border: 1px solid #e9ecef;background-color: white;width: 150px; border-radius: 5px; height: 167px;">
      <div class="box-user" style="display: flex; justify-content: center;">
        <p>2110054@dlu.edu.vn</p>
      </div>
      <form id="deleteUserForm" class="box-user" action="/articles/user/deletepersonuser" method="POST" style="margin-bottom: 10px;">
        <input type="hidden" name="userId" value="6650f325507140cb018d6913">
        <button type="submit" style="width: 140px; height: 50px; background-color: transparent; border: none;">Delete Account</button>
      </form>
      <div class="box-user" style="display: flex; justify-content: center;align-items: center; padding-bottom: 5px;height: 50px;">
        <a href="/logout" style="text-decoration: none;">Đăng xuất <i class="fa fa-sign-out"></i></a>
      </div>
    </div>
  </div>

  <p>No categories found.</p>
  <p>No articles found.</p>

  <script>
    const deleteUserForm = document.getElementById('deleteUserForm');

    deleteUserForm.addEventListener('submit', function(event) {
      event.preventDefault();

      const confirmation = confirm('Are you sure you want to delete your account?');

      if (confirmation) {
        deleteUserForm.submit();
      }
    });

    const categorySelect = document.getElementById('category');

    categorySelect.addEventListener('change', function() {
      const categoryId = categorySelect.value;
      window.location.href = `/articles/user/category/${categoryId}`;
    });

    // Đặt lại option được chọn dựa trên query parameter trong URL
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const selectedCategory = urlParams.get('categoryId');
      if (selectedCategory) {
        categorySelect.value = selectedCategory;
      }
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const imgElement = document.querySelector(".avatar");
      const myDivElement = document.querySelector(".myDIV");

      imgElement.addEventListener("mouseover", function() {
        myDivElement.classList.add("hide");
      });

      imgElement.addEventListener("mouseout", function() {
        myDivElement.classList.remove("hide");
      });
    });
  </script>
  <script>
    const homeLink = document.getElementById('homeLink');

    homeLink.addEventListener('click', function() {
      window.location.href = '/articles/user';
    });
  </script>
  <script>
    const contact = document.getElementById('contact');

    contact.addEventListener('click', function() {
      window.location.href = '/articles/user/contact';
    });
  </script>
</body>

</html>
